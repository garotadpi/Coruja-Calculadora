<html>
<head>
<title>calculator</title>
</head>
<!-- Generated by SynEdit HTML exporter -->
<body text="#000000" bgcolor="#FFFFFF">
<pre>
<code><font  size=3 face="Courier New"><font color="#000000"><b>unit </b>calculator<font color="#FF0000">;

<b>{$mode objfpc}{$H+}

</b></font><b>interface

uses
  </b>Classes<font color="#FF0000">, </font>SysUtils<font color="#FF0000">, </font>FileUtil<font color="#FF0000">, </font>Forms<font color="#FF0000">, </font>Controls<font color="#FF0000">, </font>Graphics<font color="#FF0000">, </font>Dialogs<font color="#FF0000">, </font>StdCtrls<font color="#FF0000">, </font>types<font color="#FF0000">;

</font><b>type
  </b>TOperador <font color="#FF0000">= (</font>TSuma<font color="#FF0000">, </font>TResta<font color="#FF0000">, </font>TMulti<font color="#FF0000">, </font>TDivide<font color="#FF0000">, </font>TNinguna<font color="#FF0000">);
  </font><font color="#0000FF"><b>{ TForm1 }

  </b></font>TForm1 <font color="#FF0000">= </font><b>class</b><font color="#FF0000">(</font>TForm<font color="#FF0000">)
    </font>Button1<font color="#FF0000">: </font>TButton<font color="#FF0000">;
    </font>Button0<font color="#FF0000">: </font>TButton<font color="#FF0000">;
    </font>Multi<font color="#FF0000">: </font>TButton<font color="#FF0000">;
    </font>Divide<font color="#FF0000">: </font>TButton<font color="#FF0000">;
    </font>Button13<font color="#FF0000">: </font>TButton<font color="#FF0000">;
    </font>Resta<font color="#FF0000">: </font>TButton<font color="#FF0000">;
    </font>Suma<font color="#FF0000">: </font>TButton<font color="#FF0000">;
    </font>Clean<font color="#FF0000">: </font>TButton<font color="#FF0000">;
    </font>Igual<font color="#FF0000">: </font>TButton<font color="#FF0000">;
    </font>Button2<font color="#FF0000">: </font>TButton<font color="#FF0000">;
    </font>Button3<font color="#FF0000">: </font>TButton<font color="#FF0000">;
    </font>Button4<font color="#FF0000">: </font>TButton<font color="#FF0000">;
    </font>Button5<font color="#FF0000">: </font>TButton<font color="#FF0000">;
    </font>Button6<font color="#FF0000">: </font>TButton<font color="#FF0000">;
    </font>Button7<font color="#FF0000">: </font>TButton<font color="#FF0000">;
    </font>Button8<font color="#FF0000">: </font>TButton<font color="#FF0000">;
    </font>Button9<font color="#FF0000">: </font>TButton<font color="#FF0000">;
    </font>EdDisplay<font color="#FF0000">: </font>TEdit<font color="#FF0000">;
    </font>Label1<font color="#FF0000">: </font>TLabel<font color="#FF0000">;
    </font><b>procedure </b>CleanClick<font color="#FF0000">(</font>Sender<font color="#FF0000">: </font>TObject<font color="#FF0000">);
    </font><b>procedure </b>IgualClick<font color="#FF0000">(</font>Sender<font color="#FF0000">: </font>TObject<font color="#FF0000">);
    </font><b>procedure </b>IgualContextPopup<font color="#FF0000">(</font>Sender<font color="#FF0000">: </font>TObject<font color="#FF0000">; </font>MousePos<font color="#FF0000">: </font>TPoint<font color="#FF0000">;
      </font><b>var </b>Handled<font color="#FF0000">: </font>Boolean<font color="#FF0000">);
    </font><b>procedure </b>Num1Click<font color="#FF0000">(</font>Sender<font color="#FF0000">: </font>TObject<font color="#FF0000">);
    </font><b>procedure </b>SumaClick<font color="#FF0000">(</font>Sender<font color="#FF0000">: </font>TObject<font color="#FF0000">);
  </font><b>private
    </b><font color="#0000FF"><b>{ private declarations }
    </b></font>PrimerNumero <font color="#FF0000">: </font>LongInt<font color="#FF0000">;
    </font>OperadorSel <font color="#FF0000">: </font>TOperador<font color="#FF0000">;
    </font>CleanDisplay <font color="#FF0000">: </font>Boolean<font color="#FF0000">;
  </font><b>public
    </b><font color="#0000FF"><b>{ public declarations }
  </b></font><b>end</b><font color="#FF0000">;

</font><b>var
  </b>Form1<font color="#FF0000">: </font>TForm1<font color="#FF0000">;

</font><b>implementation

</b><font color="#FF0000"><b>{$R *.lfm}

</b></font><font color="#0000FF"><b>{ TForm1 }

</b></font><b>procedure </b>TForm1<font color="#FF0000">.</font>Num1Click<font color="#FF0000">(</font>Sender<font color="#FF0000">: </font>TObject<font color="#FF0000">);
</font><b>begin
     if </b>CleanDisplay  <b>then
Begin
     </b>EdDisplay<font color="#FF0000">.</font>text <font color="#FF0000">:= </font><font color="#0000FF">''</font><font color="#FF0000">;
     </font>CleanDisplay <font color="#FF0000">:= </font>False<font color="#FF0000">;
     </font><b>end</b><font color="#FF0000">;
     </font>EdDisplay<font color="#FF0000">.</font>text <font color="#FF0000">:= </font>FloatToStr<font color="#FF0000">(</font>StrToFloat <font color="#FF0000">(</font>EdDisplay<font color="#FF0000">.</font>text <font color="#FF0000">+ </font>TButton<font color="#FF0000">(</font>Sender<font color="#FF0000">).</font>caption<font color="#FF0000">));
</font><b>end</b><font color="#FF0000">;

</font><b>procedure </b>TForm1<font color="#FF0000">.</font>IgualClick<font color="#FF0000">(</font>Sender<font color="#FF0000">: </font>TObject<font color="#FF0000">);
</font><b>begin
     If NOT  </b>CleanDisplay <b>then
        case </b>OperadorSel <b>of
             </b>TSuma <font color="#FF0000">: </font>EdDisplay<font color="#FF0000">.</font>text <font color="#FF0000">:= </font>IntToStr<font color="#FF0000">(</font>StrToInt<font color="#FF0000">(</font>EdDisplay<font color="#FF0000">.</font>text<font color="#FF0000">) + </font>PrimerNumero<font color="#FF0000">);
             </font>TResta <font color="#FF0000">: </font>EdDisplay<font color="#FF0000">.</font>text <font color="#FF0000">:= </font>IntToStr<font color="#FF0000">(</font>PrimerNumero <font color="#FF0000">- </font>StrToInt <font color="#FF0000">(</font>EdDisplay<font color="#FF0000">.</font>text<font color="#FF0000">));
             </font>TMulti <font color="#FF0000">: </font>EdDisplay<font color="#FF0000">.</font>text <font color="#FF0000">:= </font>IntToStr<font color="#FF0000">(</font>StrToInt <font color="#FF0000">(</font>EdDisplay<font color="#FF0000">.</font>text<font color="#FF0000">) * </font>PrimerNumero<font color="#FF0000">);
             </font>TDivide <font color="#FF0000">: </font>EdDisplay<font color="#FF0000">.</font>text <font color="#FF0000">:= </font>IntToStr <font color="#FF0000">(</font>PrimerNumero <b>DIV </b>StrToInt<font color="#FF0000">(</font>EdDisplay<font color="#FF0000">.</font>text<font color="#FF0000">));
        </font><b>end</b><font color="#FF0000">;
   </font>CleanDisplay <font color="#FF0000">:= </font>True<font color="#FF0000">;
</font><b>end</b><font color="#FF0000">;

</font><b>procedure </b>TForm1<font color="#FF0000">.</font>IgualContextPopup<font color="#FF0000">(</font>Sender<font color="#FF0000">: </font>TObject<font color="#FF0000">; </font>MousePos<font color="#FF0000">: </font>TPoint<font color="#FF0000">;
  </font><b>var </b>Handled<font color="#FF0000">: </font>Boolean<font color="#FF0000">);
</font><b>begin

end</b><font color="#FF0000">;

</font><b>procedure </b>TForm1<font color="#FF0000">.</font>CleanClick<font color="#FF0000">(</font>Sender<font color="#FF0000">: </font>TObject<font color="#FF0000">);
</font><b>begin
    </b>EdDisplay<font color="#FF0000">.</font>text <font color="#FF0000">:=</font><font color="#0000FF">'0'</font><font color="#FF0000">;
    </font>OperadorSel <font color="#FF0000">:= </font>TNinguna<font color="#FF0000">;
    </font>CleanDisplay <font color="#FF0000">:= </font>False<font color="#FF0000">;
</font><b>end</b><font color="#FF0000">;

</font><b>procedure </b>TForm1<font color="#FF0000">.</font>SumaClick<font color="#FF0000">(</font>Sender<font color="#FF0000">: </font>TObject<font color="#FF0000">);
</font><b>begin
     </b>IgualClick<font color="#FF0000">(</font>Sender<font color="#FF0000">);
     </font><b>case </b>TButton <font color="#FF0000">(</font>Sender<font color="#FF0000">).</font>caption <b>of
     </b><font color="#0000FF">'+' </font><font color="#FF0000">: </font>OperadorSel <font color="#FF0000">:= </font>TSuma<font color="#FF0000">;
     </font><font color="#0000FF">'-' </font><font color="#FF0000">: </font>OperadorSel <font color="#FF0000">:= </font>TResta<font color="#FF0000">;
     </font><font color="#0000FF">'*' </font><font color="#FF0000">: </font>OperadorSel <font color="#FF0000">:= </font>TMulti<font color="#FF0000">;
     </font><font color="#0000FF">'/' </font><font color="#FF0000">: </font>OperadorSel <font color="#FF0000">:= </font>TDivide<font color="#FF0000">;
     </font><b>End</b><font color="#FF0000">;
     </font>PrimerNumero <font color="#FF0000">:= </font>StrToInt<font color="#FF0000">(</font>EdDisplay<font color="#FF0000">.</font>Text<font color="#FF0000">);
     </font>CleanDisplay <font color="#FF0000">:=  </font>True<font color="#FF0000">;

</font><b>end</b><font color="#FF0000">;

</font><b>end</b><font color="#FF0000">.

</font></font>
</code></pre>
</body>
</html>